https://cherehap.netlify.app/


# README #

## Cherehapa Components Liburary

Библиотека компонентов

Локально доступен по адресу [http://localhost:9009/](http://localhost:9009/)
Глобально доступен по адресу [https://cherehap.netlify.app/](https://cherehap.netlify.app/) /* поменять как будет */

## Технологический стек

- Используется [монорепозиторий](https://monorepo.tools/). Для обработки команд и работы с монорепозиторием используется [lerna](https://github.com/lerna/lerna)
- Пакетный менеджер [Yarn](https://yarnpkg.com/)
- Языком разработки является [Typescript](https://www.typescriptlang.org/)
- Шаблоны React [React](https://www.reactjs.org/)
- Стейт [Redux](https://redux.js.org/)
- Контроль стиля кода [Eslint](https://eslint.org/)
- Описание коммитов [Conventional commits](https://www.conventionalcommits.org/en/v1.0.0/)
- Контроль описания коммитов [Commitlint](https://github.com/conventional-changelog/commitlint)


### Пайплайн
Перед каждым коммитом локально запускаются git hooks husky для контроля за описанием коммита и проверкой линтинга кода, если есть сильная необходимость запушить без этих проверок то это можно сделать добавив флаг --no-verify при пуше. Но лучше сначала пофиксить все ошибки

Коммиты должны быть оформлены по Conventional Commits, и состоять из префикса, скоупа(при наличии), и описания коммита,
например: `feat(input): Add some important prop`
В случае изменения критичных изменений в API и отсутствии совместимости с прошлой версией, для поддержания semVer и поднятия `MAJOR` версии компонента, необходимо добавить footer коммита `BREAKING CHANGE: {some description}`. Между footer и header должна быть пустая строка, например:  
```
feat(input): remove some props, change critical api

BREAKING CHANGE: update input api
```

Каждый коммит проходит пайплайн на [TeamCity](http://tc.aws.che.lo/), где настроены
джобы на проверку успешного прохождения автотестов и отсутствия ошибок линтера.

Если какая-либо из джоб не прошла, размещать пулл-реквест на ревью не допускается,следует сначала исправить все ошибки,
чтобы убедиться, что изменения не нарушают принятых для проекта стандартов.

Успешное прохождение всего пайплайна является обязательным критерием слития ветки в мастер.


### Оформление Pull-request

У любой ветки название должно состоять из имени/фамилии/ника автора пулла, названия проекта (в данном случае, `che-ui-kit`)
и краткого описания сути изменения. Для удобства восприятия оптимально, чтобы название ветки не превышало пяти-шести слов,
включая необходимые префиксы.

Перед тем, как слить пулл в мастер, стоит обязательно схлопнуть в нём все коммиты, сделать это можно при помощи команды
```
# где n — количество коммтов, которые нужно слохпнуть
git rebase -i HEAD~n
```

После схлопывания должен остаться единственный коммит.

Описание пулла опционально.

### Начало работы

```
    git clone git clone git@bitbucket.org:tsystem-ondemand/vzr.git

    yarn

    yarn build

    yarn storybook

```

## Инструментарий

### Форматрирование кода

Стилистика написания кода контролируется при помощи [ESLint](https://eslint.org/), полный список настроенных правил можно
увидеть в файлах конфига `.eslintrc.js`.

Хоть модуль линтера сам по себе работает в качестве исполняемого модуля на Node, для удобства работы рекомендуется
установить соответствующее расширение для IDE, чтобы все ошибки и предупреждения отображались в файлах визуально.

Проверить весь код API на отсутствие стилистических ошибок в нём можно при помощи команды
```
yarn run lint
```

Отсутствие ошибок линтера является одним из обязательных критериев успешного прохождения пайплайна.

